<!DOCTYPE html>
<!-- saved from url=(0042)http://localhost:8000/mikrotik-manual.html -->
<html lang="es"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manual de Configuraciones Básicas de Router MikroTik para Balanceo de Carga</title>
    <link href="./Manual de Configuraciones Básicas de Router MikroTik para Balanceo de Carga_files/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="./Manual de Configuraciones Básicas de Router MikroTik para Balanceo de Carga_files/mikrotik-styles.css">
</head>
<body>
    <div class="container">
        <header class="text-center my-4">
            <h1>Manual de Configuraciones Básicas de Router MikroTik</h1>
            <p class="lead">Guía completa para implementar balanceo de carga con esquemas y tutoriales paso a paso</p>
        </header>

        <div class="row mb-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-primary text-white">
                        <h2 class="h4 mb-0">Índice de Contenidos</h2>
                    </div>
                    <div class="card-body">
                        <ul class="toc-list">
                            <li><a href="http://localhost:8000/mikrotik-manual.html#introduccion">1. Introducción a MikroTik y Balanceo de Carga</a></li>
                            <li><a href="http://localhost:8000/mikrotik-manual.html#conceptos-basicos">2. Conceptos Básicos</a>
                                <ul>
                                    <li><a href="http://localhost:8000/mikrotik-manual.html#que-es-mikrotik">2.1 ¿Qué es MikroTik?</a></li>
                                    <li><a href="http://localhost:8000/mikrotik-manual.html#que-es-balanceo">2.2 ¿Qué es el balanceo de carga?</a></li>
                                    <li><a href="http://localhost:8000/mikrotik-manual.html#beneficios">2.3 Beneficios del balanceo de carga</a></li>
                                </ul>
                            </li>
                            <li><a href="http://localhost:8000/mikrotik-manual.html#requisitos">3. Requisitos Previos</a>
                                <ul>
                                    <li><a href="http://localhost:8000/mikrotik-manual.html#hardware">3.1 Hardware necesario</a></li>
                                    <li><a href="http://localhost:8000/mikrotik-manual.html#software">3.2 Software y versiones</a></li>
                                    <li><a href="http://localhost:8000/mikrotik-manual.html#topologia">3.3 Topología de red recomendada</a></li>
                                </ul>
                            </li>
                            <li><a href="http://localhost:8000/mikrotik-manual.html#configuracion-basica">4. Configuración Básica del Router</a>
                                <ul>
                                    <li><a href="http://localhost:8000/mikrotik-manual.html#acceso-inicial">4.1 Acceso inicial al router</a></li>
                                    <li><a href="http://localhost:8000/mikrotik-manual.html#interfaces">4.2 Configuración de interfaces</a></li>
                                    <li><a href="http://localhost:8000/mikrotik-manual.html#direccionamiento">4.3 Direccionamiento IP</a></li>
                                </ul>
                            </li>
                            <li><a href="http://localhost:8000/mikrotik-manual.html#balanceo-pcc">5. Balanceo de Carga con PCC (Per Connection Classifier)</a>
                                <ul>
                                    <li><a href="http://localhost:8000/mikrotik-manual.html#pcc-teoria">5.1 Teoría y funcionamiento</a></li>
                                    <li><a href="http://localhost:8000/mikrotik-manual.html#pcc-configuracion">5.2 Configuración paso a paso</a></li>
                                    <li><a href="http://localhost:8000/mikrotik-manual.html#pcc-verificacion">5.3 Verificación y pruebas</a></li>
                                </ul>
                            </li>
                            <li><a href="http://localhost:8000/mikrotik-manual.html#balanceo-ecmp">6. Balanceo de Carga con ECMP (Equal Cost Multi-Path)</a>
                                <ul>
                                    <li><a href="http://localhost:8000/mikrotik-manual.html#ecmp-teoria">6.1 Teoría y funcionamiento</a></li>
                                    <li><a href="http://localhost:8000/mikrotik-manual.html#ecmp-configuracion">6.2 Configuración paso a paso</a></li>
                                    <li><a href="http://localhost:8000/mikrotik-manual.html#ecmp-verificacion">6.3 Verificación y pruebas</a></li>
                                </ul>
                            </li>
                            <li><a href="http://localhost:8000/mikrotik-manual.html#failover">7. Configuración de Failover (Conmutación por error)</a>
                                <ul>
                                    <li><a href="http://localhost:8000/mikrotik-manual.html#failover-teoria">7.1 Teoría y funcionamiento</a></li>
                                    <li><a href="http://localhost:8000/mikrotik-manual.html#failover-configuracion">7.2 Configuración paso a paso</a></li>
                                    <li><a href="http://localhost:8000/mikrotik-manual.html#failover-verificacion">7.3 Verificación y pruebas</a></li>
                                </ul>
                            </li>
                            <li><a href="http://localhost:8000/mikrotik-manual.html#casos-uso">8. Casos de Uso y Escenarios Prácticos</a>
                                <ul>
                                    <li><a href="http://localhost:8000/mikrotik-manual.html#caso-pyme">8.1 Balanceo para PYME</a></li>
                                    <li><a href="http://localhost:8000/mikrotik-manual.html#caso-hogar">8.2 Balanceo para entorno doméstico</a></li>
                                    <li><a href="http://localhost:8000/mikrotik-manual.html#caso-isp">8.3 Balanceo para ISP</a></li>
                                </ul>
                            </li>
                            <li><a href="http://localhost:8000/mikrotik-manual.html#troubleshooting">9. Solución de Problemas Comunes</a></li>
                            <li><a href="http://localhost:8000/mikrotik-manual.html#recursos">10. Recursos Adicionales</a></li>
                            <li><a href="http://localhost:8000/mikrotik-manual.html#generar-pdf">11. Generar PDF del Manual</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <section id="introduccion" class="mb-5">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h2 class="h4 mb-0">1. Introducción a MikroTik y Balanceo de Carga</h2>
                </div>
                <div class="card-body">
                    <p>Los routers MikroTik son dispositivos de red potentes y versátiles que ofrecen una amplia gama de funcionalidades a un precio competitivo. Una de las características más útiles es la capacidad de realizar balanceo de carga entre múltiples conexiones a Internet, lo que permite:</p>
                    
                    <ul>
                        <li>Aumentar el ancho de banda disponible combinando múltiples conexiones</li>
                        <li>Mejorar la redundancia y disponibilidad de la red</li>
                        <li>Distribuir el tráfico de manera eficiente entre diferentes proveedores</li>
                        <li>Implementar políticas de enrutamiento basadas en tipo de tráfico</li>
                    </ul>
                    
                    <p>Este manual está diseñado para guiarte a través del proceso de configuración de balanceo de carga en routers MikroTik, desde los conceptos básicos hasta implementaciones avanzadas con esquemas detallados y tutoriales paso a paso.</p>
                    
                    <div class="text-center my-4">
                        <img src="./Manual de Configuraciones Básicas de Router MikroTik para Balanceo de Carga_files/mikrotik-diagram-intro.svg" alt="Diagrama de Balanceo de Carga MikroTik" class="img-fluid rounded shadow-sm" style="max-width: 80%;">
                        <p class="text-muted mt-2"><small>Figura 1: Esquema básico de balanceo de carga con router MikroTik</small></p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Secciones Básicas -->
        <div id="secciones-basicas"><!-- Sección de Conceptos Básicos -->
<section id="conceptos-basicos" class="mb-5">
    <div class="card">
        <div class="card-header bg-primary text-white">
            <h2 class="h4 mb-0">2. Conceptos Básicos</h2>
        </div>
        <div class="card-body">
            <section id="que-es-mikrotik" class="mb-4">
                <h3 class="h5">2.1 ¿Qué es MikroTik?</h3>
                <p>MikroTik es una empresa de Letonia que fabrica equipos de redes y desarrolla el sistema operativo RouterOS, una solución de software que convierte un ordenador o router en un router de red dedicado. Sus principales características son:</p>
                <ul>
                    <li><strong>RouterOS:</strong> Sistema operativo basado en Linux que proporciona funciones avanzadas de enrutamiento, firewall, gestión de ancho de banda, punto de acceso inalámbrico, servidor de backhaul, hotspot gateway, servidor VPN y más.</li>
                    <li><strong>RouterBOARD:</strong> Hardware propietario que viene con RouterOS preinstalado.</li>
                    <li><strong>Versatilidad:</strong> Desde pequeños routers domésticos hasta equipos para proveedores de servicios de Internet (ISP).</li>
                    <li><strong>Relación calidad-precio:</strong> Ofrece funcionalidades avanzadas a un costo competitivo comparado con otras marcas como Cisco o Juniper.</li>
                </ul>
                <div class="alert alert-info">
                    <i class="bi bi-info-circle-fill me-2"></i>
                    <strong>Nota:</strong> MikroTik es especialmente popular entre ISPs pequeños y medianos, así como en entornos empresariales donde se requiere un control detallado de la red a un costo razonable.
                </div>
            </section>

            <section id="que-es-balanceo" class="mb-4">
                <h3 class="h5">2.2 ¿Qué es el balanceo de carga?</h3>
                <p>El balanceo de carga (load balancing) es una técnica utilizada en redes informáticas para distribuir el tráfico de red entre múltiples enlaces o conexiones a Internet. En el contexto de MikroTik, se refiere a la capacidad de distribuir el tráfico saliente entre dos o más conexiones WAN.</p>
                
                <p>Existen principalmente dos métodos de balanceo de carga en MikroTik:</p>
                <ul>
                    <li><strong>PCC (Per Connection Classifier):</strong> Distribuye las conexiones entre múltiples enlaces basándose en la información de origen y destino de los paquetes.</li>
                    <li><strong>ECMP (Equal Cost Multi-Path):</strong> Distribuye los paquetes entre múltiples rutas de igual costo según algoritmos como round-robin, random o por-paquete.</li>
                </ul>
                
                <p>Además, MikroTik permite configurar:</p>
                <ul>
                    <li><strong>Balanceo simétrico:</strong> Asegura que los paquetes de ida y vuelta de una misma conexión utilicen el mismo enlace.</li>
                    <li><strong>Balanceo asimétrico:</strong> Permite que los paquetes de ida y vuelta puedan utilizar enlaces diferentes.</li>
                    <li><strong>Balanceo por peso:</strong> Asigna diferentes proporciones de tráfico a cada enlace según su capacidad.</li>
                </ul>
            </section>

            <section id="beneficios" class="mb-4">
                <h3 class="h5">2.3 Beneficios del balanceo de carga</h3>
                <p>Implementar balanceo de carga en una red con routers MikroTik ofrece numerosas ventajas:</p>
                
                <div class="row">
                    <div class="col-md-6">
                        <div class="card h-100 border-primary mb-3">
                            <div class="card-header bg-primary text-white">Rendimiento</div>
                            <div class="card-body">
                                <ul>
                                    <li>Mayor ancho de banda total disponible</li>
                                    <li>Mejor distribución del tráfico</li>
                                    <li>Reducción de la congestión en enlaces individuales</li>
                                    <li>Optimización del uso de recursos de red</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card h-100 border-success mb-3">
                            <div class="card-header bg-success text-white">Disponibilidad</div>
                            <div class="card-body">
                                <ul>
                                    <li>Mayor redundancia y tolerancia a fallos</li>
                                    <li>Continuidad del servicio ante fallos de un ISP</li>
                                    <li>Posibilidad de mantenimiento sin interrupciones</li>
                                    <li>Reducción de puntos únicos de fallo</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="row mt-3">
                    <div class="col-md-6">
                        <div class="card h-100 border-info mb-3">
                            <div class="card-header bg-info text-white">Flexibilidad</div>
                            <div class="card-body">
                                <ul>
                                    <li>Posibilidad de combinar diferentes tipos de conexiones</li>
                                    <li>Enrutamiento basado en tipo de tráfico</li>
                                    <li>Adaptabilidad a diferentes necesidades de red</li>
                                    <li>Escalabilidad para crecimiento futuro</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card h-100 border-warning mb-3">
                            <div class="card-header bg-warning text-dark">Económicos</div>
                            <div class="card-body">
                                <ul>
                                    <li>Aprovechamiento de múltiples conexiones económicas</li>
                                    <li>Alternativa a enlaces dedicados de mayor costo</li>
                                    <li>Optimización de contratos con diferentes ISPs</li>
                                    <li>Mejor relación costo-beneficio</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
</section>

<!-- Sección de Requisitos Previos -->
<section id="requisitos" class="mb-5">
    <div class="card">
        <div class="card-header bg-primary text-white">
            <h2 class="h4 mb-0">3. Requisitos Previos</h2>
        </div>
        <div class="card-body">
            <section id="hardware" class="mb-4">
                <h3 class="h5">3.1 Hardware necesario</h3>
                <p>Para implementar balanceo de carga con MikroTik, necesitarás el siguiente hardware:</p>
                
                <table class="table table-bordered">
                    <thead class="table-primary">
                        <tr>
                            <th>Componente</th>
                            <th>Requisitos mínimos</th>
                            <th>Recomendado</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Router MikroTik</strong></td>
                            <td>Cualquier modelo con RouterOS v6.x o superior y al menos 3 puertos Ethernet</td>
                            <td>hAP ac², RB450Gx4, RB4011, CCR series (para redes más grandes)</td>
                        </tr>
                        <tr>
                            <td><strong>Interfaces WAN</strong></td>
                            <td>Mínimo 2 puertos para conexiones a Internet</td>
                            <td>2-4 puertos dependiendo del número de ISPs</td>
                        </tr>
                        <tr>
                            <td><strong>Interfaces LAN</strong></td>
                            <td>Al menos 1 puerto para red local</td>
                            <td>Switch integrado o externo para múltiples dispositivos</td>
                        </tr>
                        <tr>
                            <td><strong>Memoria RAM</strong></td>
                            <td>128MB para redes pequeñas</td>
                            <td>256MB o más para redes medianas/grandes</td>
                        </tr>
                        <tr>
                            <td><strong>CPU</strong></td>
                            <td>Procesador de 600MHz</td>
                            <td>Procesador dual-core o quad-core para mejor rendimiento</td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="alert alert-warning">
                    <i class="bi bi-exclamation-triangle-fill me-2"></i>
                    <strong>Importante:</strong> El hardware requerido dependerá del volumen de tráfico, número de conexiones simultáneas y funciones adicionales que se implementen (firewall, QoS, VPN, etc.).
                </div>
            </section>

            <section id="software" class="mb-4">
                <h3 class="h5">3.2 Software y versiones</h3>
                <p>Para una implementación exitosa de balanceo de carga, se recomienda:</p>
                
                <ul>
                    <li><strong>RouterOS:</strong> Versión 6.48 o superior (recomendado v7.x para características más recientes)</li>
                    <li><strong>Winbox:</strong> Última versión disponible para configuración gráfica</li>
                    <li><strong>Herramientas opcionales:</strong>
                        <ul>
                            <li>The Dude: Para monitorización de red</li>
                            <li>Netwatch: Para supervisión de enlaces (incluido en RouterOS)</li>
                            <li>Herramientas de diagnóstico: ping, traceroute, torch (analizador de tráfico)</li>
                        </ul>
                    </li>
                </ul>
                
                <div class="alert alert-info">
                    <i class="bi bi-info-circle-fill me-2"></i>
                    <strong>Nota:</strong> Siempre es recomendable mantener actualizado el RouterOS a la última versión estable para beneficiarse de mejoras de seguridad y rendimiento.
                </div>
                
                <div class="code-block">
                    <pre><code># Verificar la versión actual de RouterOS
/system resource print

# Verificar si hay actualizaciones disponibles
/system package update check-for-updates

# Actualizar RouterOS (realizar backup antes)
/system backup save name=before_update
/system package update install</code></pre>
                </div>
            </section>

            <section id="topologia" class="mb-4">
                <h3 class="h5">3.3 Topología de red recomendada</h3>
                <p>Para implementar balanceo de carga, se recomienda la siguiente topología básica:</p>
                
                <div class="text-center my-4">
                    <div class="diagram-container p-3 border rounded">
                        <pre class="text-start">                            Internet
                               ↑
                               |
            +----------------+----------------+
            |                |                |
        +---+---+        +---+---+        +---+---+
        |  ISP1  |        |  ISP2  |        |  ISP3  |  (Opcional)
        +---+---+        +---+---+        +---+---+
            |                |                |
            +----------------+----------------+
                               |
                          +----+----+
                          | MikroTik |
                          |  Router  |
                          +----+----+
                               |
                               |
                        +-----+-----+
                        |    LAN     |
                        |   Switch   |
                        +-----+-----+
                               |
            +----------------+----------------+
            |                |                |
        +---+---+        +---+---+        +---+---+
        |  PC1   |        |  PC2   |        | Otros |
        +-------+        +-------+        +-------+
                        </pre>
                    </div>
                    <p class="text-muted mt-2"><small>Figura 2: Topología recomendada para balanceo de carga</small></p>
                </div>
                
                <p><strong>Consideraciones importantes:</strong></p>
                <ul>
                    <li>Cada ISP debe estar conectado a una interfaz WAN diferente del router MikroTik</li>
                    <li>La red LAN debe estar en una subred diferente a las utilizadas por los ISPs</li>
                    <li>Se recomienda utilizar direcciones IP estáticas en las interfaces WAN cuando sea posible</li>
                    <li>Considerar la implementación de VLANs si se requiere segmentación de la red</li>
                </ul>
                
                <div class="alert alert-success">
                    <i class="bi bi-check-circle-fill me-2"></i>
                    <strong>Recomendación:</strong> Documentar detalladamente la topología de red, incluyendo direcciones IP, gateways, DNS y otros parámetros relevantes antes de comenzar la implementación.
                </div>
            </section>
        </div>
    </div>
</section>

<!-- Sección de Configuración Básica del Router -->
<section id="configuracion-basica" class="mb-5">
    <div class="card">
        <div class="card-header bg-primary text-white">
            <h2 class="h4 mb-0">4. Configuración Básica del Router</h2>
        </div>
        <div class="card-body">
            <section id="acceso-inicial" class="mb-4">
                <h3 class="h5">4.1 Acceso inicial al router</h3>
                <p>Antes de configurar el balanceo de carga, es necesario establecer acceso al router MikroTik. Existen varias formas de hacerlo:</p>
                
                <div class="row">
                    <div class="col-md-6">
                        <div class="card mb-3">
                            <div class="card-header bg-light">Acceso vía Winbox</div>
                            <div class="card-body">
                                <ol class="numbered-steps">
                                    <li>Descarga Winbox desde la <a href="https://mikrotik.com/download" target="_blank">página oficial de MikroTik</a></li>
                                    <li>Conecta tu PC a un puerto Ethernet del router</li>
                                    <li>Abre Winbox y busca tu router en la pestaña "Neighbors"</li>
                                    <li>Conéctate usando la dirección MAC (recomendado para primer acceso) o IP</li>
                                    <li>Credenciales por defecto: usuario <code>admin</code>, sin contraseña</li>
                                </ol>
                                <div class="text-center">
                                    <img src="./Manual de Configuraciones Básicas de Router MikroTik para Balanceo de Carga_files/RB951Ui-2nD_34234.png" alt="Winbox Interface" class="img-fluid rounded" style="max-width: 90%; max-height: 150px;">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card mb-3">
                            <div class="card-header bg-light">Acceso vía WebFig</div>
                            <div class="card-body">
                                <ol class="numbered-steps">
                                    <li>Conecta tu PC a un puerto Ethernet del router</li>
                                    <li>Configura tu PC con una IP en la misma subred (ej. 192.168.88.x)</li>
                                    <li>Abre un navegador web y accede a la IP del router (por defecto 192.168.88.1)</li>
                                    <li>Inicia sesión con las credenciales por defecto</li>
                                    <li>Navega por la interfaz web para configurar el router</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="alert alert-danger mt-3">
                    <i class="bi bi-shield-exclamation me-2"></i>
                    <strong>¡Importante!</strong> Por seguridad, cambia inmediatamente la contraseña por defecto:
                    <div class="code-block mt-2">
                        <pre><code># Vía terminal/SSH
/user set admin password=NuevaContraseñaSegura

# O desde Winbox: System &gt; Users &gt; selecciona 'admin' &gt; Password</code></pre>
                    </div>
                </div>
            </section>

            <section id="interfaces" class="mb-4">
                <h3 class="h5">4.2 Configuración de interfaces</h3>
                <p>El primer paso para configurar el balanceo de carga es identificar y configurar correctamente las interfaces del router:</p>
                
                <div class="code-block">
                    <pre><code># Listar todas las interfaces disponibles
/interface print</code></pre>
                </div>
                
                <p>Es recomendable renombrar las interfaces para facilitar su identificación:</p>
                
                <div class="code-block">
                    <pre><code># Renombrar interfaces (ejemplo)
/interface set ether1 name=ether1-WAN1
/interface set ether2 name=ether2-WAN2
/interface set ether3 name=ether3-LAN
/interface set ether4 name=ether4-LAN
/interface set ether5 name=ether5-LAN</code></pre>
                </div>
                
                <p>Para configuraciones más complejas, puedes crear un bridge para agrupar las interfaces LAN:</p>
                
                <div class="code-block">
                    <pre><code># Crear un bridge para la LAN
/interface bridge add name=bridge-LAN

# Añadir interfaces al bridge
/interface bridge port add bridge=bridge-LAN interface=ether3-LAN
/interface bridge port add bridge=bridge-LAN interface=ether4-LAN
/interface bridge port add bridge=bridge-LAN interface=ether5-LAN</code></pre>
                </div>
                
                <div class="alert alert-info">
                    <i class="bi bi-info-circle-fill me-2"></i>
                    <strong>Nota:</strong> La configuración de interfaces puede variar según el modelo de router MikroTik y la topología de red específica.
                </div>
            </section>

            <section id="direccionamiento" class="mb-4">
                <h3 class="h5">4.3 Direccionamiento IP</h3>
                <p>Una vez configuradas las interfaces, es necesario asignar direcciones IP:</p>
                
                <div class="code-block">
                    <pre><code># Configurar IPs para interfaces WAN (ejemplo con DHCP)
/ip dhcp-client add interface=ether1-WAN1 disabled=no
/ip dhcp-client add interface=ether2-WAN2 disabled=no

# Alternativamente, configurar IPs estáticas para WAN
/ip address add address=203.0.113.2/24 interface=ether1-WAN1
/ip address add address=198.51.100.2/24 interface=ether2-WAN2

# Configurar IP para la LAN
/ip address add address=192.168.1.1/24 interface=bridge-LAN</code></pre>
                </div>
                
                <p>Configurar el servidor DHCP para la red LAN:</p>
                
                <div class="code-block">
                    <pre><code># Crear un pool de direcciones DHCP
/ip pool add name=dhcp-pool-LAN ranges=192.168.1.100-192.168.1.200

# Configurar servidor DHCP
/ip dhcp-server add name=dhcp-LAN interface=bridge-LAN address-pool=dhcp-pool-LAN disabled=no

# Configurar red DHCP
/ip dhcp-server network add address=192.168.1.0/24 gateway=192.168.1.1 dns-server=8.8.8.8,8.8.4.4</code></pre>
                </div>
                
                <p>Verificar la configuración IP:</p>
                
                <div class="code-block">
                    <pre><code># Verificar direcciones IP configuradas
/ip address print

# Verificar clientes DHCP
/ip dhcp-server lease print</code></pre>
                </div>
                
                <div class="alert alert-success">
                    <i class="bi bi-check-circle-fill me-2"></i>
                    <strong>Recomendación:</strong> Utiliza subredes diferentes para cada segmento de red (WAN1, WAN2, LAN) para evitar conflictos de enrutamiento.
                </div>
            </section>
        </div>
    </div>
</section></div>
        <script>
            fetch('mikrotik-basic-sections.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('secciones-basicas').innerHTML = data;
                });
        </script>

        <!-- Sección de Balanceo PCC -->
        <div id="balanceo-pcc"><section id="balanceo-pcc" class="mb-5">
    <div class="card">
        <div class="card-header bg-primary text-white">
            <h2 class="h4 mb-0">5. Balanceo de Carga con PCC (Per Connection Classifier)</h2>
        </div>
        <div class="card-body">
            <div id="pcc-teoria">
                <h3>5.1 Teoría y funcionamiento</h3>
                <p>El método PCC (Per Connection Classifier) es una de las técnicas más populares y efectivas para implementar balanceo de carga en routers MikroTik. A diferencia de otros métodos, PCC permite distribuir el tráfico entre múltiples conexiones a Internet manteniendo la integridad de las sesiones.</p>
                
                <div class="note">
                    <strong>¿Qué es PCC?</strong> PCC es un método que clasifica los paquetes basándose en información de la conexión como direcciones IP de origen/destino y puertos. Esto permite que todos los paquetes de una misma conexión sigan la misma ruta, evitando problemas con aplicaciones sensibles a cambios de IP.
                </div>
                
                <p><strong>Ventajas del balanceo PCC:</strong></p>
                <ul>
                    <li>Mantiene la integridad de las conexiones (todos los paquetes de una misma conexión siguen la misma ruta)</li>
                    <li>Permite distribución personalizada del tráfico (no necesariamente 50/50)</li>
                    <li>Compatible con NAT y firewall</li>
                    <li>Funciona bien con aplicaciones sensibles como VPNs, juegos en línea y streaming</li>
                    <li>Permite implementar políticas de enrutamiento basadas en tipo de tráfico</li>
                </ul>
                
                <p><strong>Funcionamiento del PCC:</strong></p>
                <p>El balanceo PCC utiliza dos componentes principales de RouterOS:</p>
                <ol>
                    <li><strong>Mangle</strong>: Para marcar los paquetes según su origen/destino</li>
                    <li><strong>Routing</strong>: Para enrutar los paquetes marcados a través de diferentes gateways</li>
                </ol>
                
                <p>El algoritmo PCC divide las conexiones utilizando operaciones matemáticas (módulo y división) sobre los valores hash de las direcciones IP y puertos. Esto garantiza que todos los paquetes de una misma conexión obtengan la misma marca y, por lo tanto, sigan la misma ruta.</p>
                
                <div class="diagram-container">
                    <img src="./Manual de Configuraciones Básicas de Router MikroTik para Balanceo de Carga_files/mikrotik-pcc-diagram.svg" alt="Diagrama de funcionamiento de PCC" class="img-fluid">
                    <p class="figure-caption">Figura 2: Funcionamiento del balanceo PCC en MikroTik</p>
                </div>
            </div>
            
            <div id="pcc-configuracion" class="mt-5">
                <h3>5.2 Configuración paso a paso</h3>
                <p>A continuación, se presenta una guía paso a paso para configurar el balanceo de carga PCC en un router MikroTik. Este ejemplo asume que tenemos dos conexiones a Internet (WAN1 y WAN2) y una red local (LAN).</p>
                
                <div class="warning">
                    <strong>Importante:</strong> Antes de comenzar, asegúrate de tener acceso al router a través de otro medio (como consola) en caso de que pierdas conectividad durante la configuración.
                </div>
                
                <h4 class="mt-4">Paso 1: Identificar y configurar las interfaces</h4>
                <p>Primero, identifica las interfaces que utilizarás para cada conexión:</p>
                
                <ul class="steps">
                    <li>
                        <strong>Identificar interfaces:</strong> Usa el siguiente comando para ver las interfaces disponibles:
                        <div class="command">/interface print</div>
                    </li>
                    <li>
                        <strong>Renombrar interfaces (opcional):</strong> Para mayor claridad, puedes renombrar las interfaces:
                        <div class="command">/interface set 0 name=WAN1
/interface set 1 name=WAN2
/interface set 2 name=LAN</div>
                    </li>
                </ul>
                
                <h4 class="mt-4">Paso 2: Configurar direcciones IP</h4>
                <p>Configura las direcciones IP para cada interfaz:</p>
                
                <div class="command"># Configurar WAN1 (ejemplo con DHCP)
/ip address add interface=WAN1 address=dhcp

# Configurar WAN2 (ejemplo con IP estática)
/ip address add interface=WAN2 address=192.168.2.2/24

# Configurar LAN
/ip address add interface=LAN address=192.168.0.1/24</div>
                
                <h4 class="mt-4">Paso 3: Configurar rutas por defecto</h4>
                <p>Añade rutas para cada conexión WAN:</p>
                
                <div class="command"># Ruta para WAN1
/ip route add dst-address=0.0.0.0/0 gateway=192.168.1.1 check-gateway=ping distance=1

# Ruta para WAN2
/ip route add dst-address=0.0.0.0/0 gateway=192.168.2.1 check-gateway=ping distance=2</div>
                
                <div class="note">
                    <strong>Nota:</strong> El parámetro <code>check-gateway=ping</code> permite que el router verifique si el gateway está disponible. El parámetro <code>distance</code> establece la prioridad de la ruta (valores más bajos tienen mayor prioridad).
                </div>
                
                <h4 class="mt-4">Paso 4: Configurar reglas de marcado (Mangle)</h4>
                <p>Configura las reglas de mangle para marcar las conexiones:</p>
                
                <div class="command"># Marcar conexiones que salen por WAN1
/ip firewall mangle add chain=prerouting action=mark-connection new-connection-mark=WAN1_conn passthrough=yes per-connection-classifier=both-addresses:2/0

# Marcar conexiones que salen por WAN2
/ip firewall mangle add chain=prerouting action=mark-connection new-connection-mark=WAN2_conn passthrough=yes per-connection-classifier=both-addresses:2/1

# Marcar paquetes basados en la marca de conexión para WAN1
/ip firewall mangle add chain=prerouting action=mark-routing connection-mark=WAN1_conn new-routing-mark=to_WAN1 passthrough=yes

# Marcar paquetes basados en la marca de conexión para WAN2
/ip firewall mangle add chain=prerouting action=mark-routing connection-mark=WAN2_conn new-routing-mark=to_WAN2 passthrough=yes</div>
                
                <p>Explicación de los parámetros:</p>
                <ul>
                    <li><strong>both-addresses:2/0</strong>: Divide las conexiones en 2 grupos (para 2 WANs) y asigna el grupo 0 a esta regla</li>
                    <li><strong>both-addresses:2/1</strong>: Asigna el grupo 1 a esta regla</li>
                    <li><strong>passthrough=yes</strong>: Permite que el paquete continúe siendo procesado por las siguientes reglas</li>
                </ul>
                
                <h4 class="mt-4">Paso 5: Configurar reglas de enrutamiento</h4>
                <p>Añade rutas para cada marca de enrutamiento:</p>
                
                <div class="command"># Ruta para paquetes marcados para WAN1
/ip route add dst-address=0.0.0.0/0 gateway=192.168.1.1 routing-mark=to_WAN1 check-gateway=ping

# Ruta para paquetes marcados para WAN2
/ip route add dst-address=0.0.0.0/0 gateway=192.168.2.1 routing-mark=to_WAN2 check-gateway=ping</div>
                
                <h4 class="mt-4">Paso 6: Configurar NAT para ambas interfaces WAN</h4>
                <p>Configura el enmascaramiento (NAT) para permitir que los clientes de la red local accedan a Internet a través de ambas conexiones:</p>
                
                <div class="command"># NAT para WAN1
/ip firewall nat add chain=srcnat out-interface=WAN1 action=masquerade

# NAT para WAN2
/ip firewall nat add chain=srcnat out-interface=WAN2 action=masquerade</div>
                
                <h4 class="mt-4">Paso 7: Configurar reglas de failover (opcional)</h4>
                <p>Para garantizar que el tráfico se redirija automáticamente si una de las conexiones falla:</p>
                
                <div class="command"># Marcar paquetes que no pueden salir por WAN1 para que usen WAN2
/ip firewall mangle add chain=output connection-mark=WAN1_conn action=mark-routing new-routing-mark=to_WAN2 passthrough=yes dst-address-type=!local

# Marcar paquetes que no pueden salir por WAN2 para que usen WAN1
/ip firewall mangle add chain=output connection-mark=WAN2_conn action=mark-routing new-routing-mark=to_WAN1 passthrough=yes dst-address-type=!local</div>
            </div>
            
            <div id="pcc-verificacion" class="mt-5">
                <h3>5.3 Verificación y pruebas</h3>
                <p>Una vez configurado el balanceo de carga, es importante verificar que funciona correctamente:</p>
                
                <h4>Verificar las conexiones activas</h4>
                <p>Para ver cómo se están distribuyendo las conexiones entre las dos WAN:</p>
                
                <div class="command">/ip firewall connection print</div>
                
                <h4>Verificar el uso de ancho de banda</h4>
                <p>Para monitorear el tráfico en cada interfaz WAN:</p>
                
                <div class="command">/interface monitor-traffic WAN1,WAN2</div>
                
                <h4>Prueba de failover</h4>
                <p>Para probar que el failover funciona correctamente, puedes desconectar temporalmente una de las interfaces WAN y verificar que el tráfico continúa fluyendo a través de la otra interfaz.</p>
                
                <div class="note">
                    <strong>Consejo:</strong> Utiliza herramientas como <code>ping</code> o <code>traceroute</code> desde dispositivos en la red local para verificar que las conexiones están utilizando diferentes rutas:
                    <div class="command">/ping 8.8.8.8 count=10
/tool traceroute 1.1.1.1</div>
                </div>
                
                <h4>Ajuste fino del balanceo</h4>
                <p>Si necesitas ajustar la proporción del balanceo (por ejemplo, si una conexión tiene más ancho de banda que la otra), puedes modificar las reglas PCC:</p>
                
                <div class="command"># Ejemplo para balanceo 70/30 (3 partes, 2 para WAN1 y 1 para WAN2)
# Primero elimina las reglas anteriores
/ip firewall mangle remove [find where comment="PCC Balancing"]

# Luego añade las nuevas reglas
/ip firewall mangle add chain=prerouting action=mark-connection new-connection-mark=WAN1_conn passthrough=yes per-connection-classifier=both-addresses:3/0 comment="PCC Balancing"
/ip firewall mangle add chain=prerouting action=mark-connection new-connection-mark=WAN1_conn passthrough=yes per-connection-classifier=both-addresses:3/1 comment="PCC Balancing"
/ip firewall mangle add chain=prerouting action=mark-connection new-connection-mark=WAN2_conn passthrough=yes per-connection-classifier=both-addresses:3/2 comment="PCC Balancing"</div>
                
                <p>En este ejemplo, 2/3 del tráfico (aproximadamente 67%) irá por WAN1 y 1/3 (aproximadamente 33%) por WAN2.</p>
            </div>
        </div>
    </div>
</section></div>
        <script>
            fetch('mikrotik-pcc-section.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('balanceo-pcc').innerHTML = data;
                });
        </script>

        <!-- Sección de Balanceo ECMP -->
        <div id="balanceo-ecmp"><section id="balanceo-ecmp" class="mb-5">
    <div class="card">
        <div class="card-header bg-primary text-white">
            <h2 class="h4 mb-0">6. Balanceo de Carga con ECMP (Equal Cost Multi-Path)</h2>
        </div>
        <div class="card-body">
            <div id="ecmp-teoria">
                <h3>6.1 Teoría y funcionamiento</h3>
                <p>ECMP (Equal Cost Multi-Path) es un protocolo de enrutamiento que permite distribuir el tráfico a través de múltiples rutas de igual costo. A diferencia del método PCC, ECMP es más simple de configurar pero tiene algunas limitaciones importantes.</p>
                
                <div class="note">
                    <strong>¿Qué es ECMP?</strong> ECMP es una técnica de enrutamiento que permite que un router distribuya el tráfico entre múltiples rutas que tienen el mismo costo (métrica). En RouterOS, esto se implementa simplemente configurando múltiples rutas por defecto con el mismo valor de distancia.
                </div>
                
                <p><strong>Ventajas del balanceo ECMP:</strong></p>
                <ul>
                    <li>Configuración muy sencilla</li>
                    <li>Integrado directamente en el sistema de enrutamiento</li>
                    <li>No requiere reglas de mangle complejas</li>
                    <li>Funciona bien para tráfico UDP y tráfico no sensible a cambios de ruta</li>
                </ul>
                
                <p><strong>Limitaciones del balanceo ECMP:</strong></p>
                <ul>
                    <li>No mantiene la integridad de las conexiones (los paquetes de una misma conexión pueden tomar rutas diferentes)</li>
                    <li>Puede causar problemas con aplicaciones sensibles como VPNs, juegos en línea y streaming</li>
                    <li>No permite una distribución personalizada del tráfico (siempre es equitativa)</li>
                    <li>No es compatible con todas las configuraciones de NAT</li>
                </ul>
                
                <p><strong>Funcionamiento de ECMP:</strong></p>
                <p>El balanceo ECMP funciona a nivel de paquete, no de conexión. Cuando hay múltiples rutas con el mismo costo (distancia) hacia un destino, RouterOS distribuye los paquetes entre estas rutas. Por defecto, RouterOS utiliza un algoritmo basado en el hash de las direcciones IP de origen y destino para determinar qué ruta debe tomar cada paquete.</p>
                
                <div class="diagram-container">
                    <img src="./Manual de Configuraciones Básicas de Router MikroTik para Balanceo de Carga_files/mikrotik-ecmp-diagram.svg" alt="Diagrama de funcionamiento de ECMP" class="img-fluid">
                    <p class="figure-caption">Figura 3: Funcionamiento del balanceo ECMP en MikroTik</p>
                </div>
                
                <div class="table-responsive mt-4">
                    <table class="table table-mikrotik">
                        <thead>
                            <tr>
                                <th>Característica</th>
                                <th>ECMP</th>
                                <th>PCC</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Nivel de operación</td>
                                <td>Nivel de paquete</td>
                                <td>Nivel de conexión</td>
                            </tr>
                            <tr>
                                <td>Complejidad de configuración</td>
                                <td>Baja</td>
                                <td>Media-Alta</td>
                            </tr>
                            <tr>
                                <td>Integridad de conexiones</td>
                                <td>No garantizada</td>
                                <td>Garantizada</td>
                            </tr>
                            <tr>
                                <td>Distribución personalizada</td>
                                <td>No (siempre equitativa)</td>
                                <td>Sí (configurable)</td>
                            </tr>
                            <tr>
                                <td>Compatibilidad con aplicaciones sensibles</td>
                                <td>Baja</td>
                                <td>Alta</td>
                            </tr>
                            <tr>
                                <td>Uso de recursos del router</td>
                                <td>Bajo</td>
                                <td>Medio</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <div id="ecmp-configuracion" class="mt-5">
                <h3>6.2 Configuración paso a paso</h3>
                <p>A continuación, se presenta una guía paso a paso para configurar el balanceo de carga ECMP en un router MikroTik. Este ejemplo asume que tenemos dos conexiones a Internet (WAN1 y WAN2) y una red local (LAN).</p>
                
                <h4 class="mt-4">Paso 1: Identificar y configurar las interfaces</h4>
                <p>Al igual que con PCC, primero identifica las interfaces que utilizarás para cada conexión:</p>
                
                <ul class="steps">
                    <li>
                        <strong>Identificar interfaces:</strong> Usa el siguiente comando para ver las interfaces disponibles:
                        <div class="command">/interface print</div>
                    </li>
                    <li>
                        <strong>Renombrar interfaces (opcional):</strong> Para mayor claridad, puedes renombrar las interfaces:
                        <div class="command">/interface set 0 name=WAN1
/interface set 1 name=WAN2
/interface set 2 name=LAN</div>
                    </li>
                </ul>
                
                <h4 class="mt-4">Paso 2: Configurar direcciones IP</h4>
                <p>Configura las direcciones IP para cada interfaz:</p>
                
                <div class="command"># Configurar WAN1 (ejemplo con DHCP)
/ip address add interface=WAN1 address=dhcp

# Configurar WAN2 (ejemplo con IP estática)
/ip address add interface=WAN2 address=192.168.2.2/24

# Configurar LAN
/ip address add interface=LAN address=192.168.0.1/24</div>
                
                <h4 class="mt-4">Paso 3: Configurar rutas ECMP</h4>
                <p>La clave del balanceo ECMP es configurar múltiples rutas por defecto con el mismo valor de distancia:</p>
                
                <div class="command"># Ruta para WAN1
/ip route add dst-address=0.0.0.0/0 gateway=192.168.1.1 check-gateway=ping distance=1

# Ruta para WAN2 (con la misma distancia que WAN1)
/ip route add dst-address=0.0.0.0/0 gateway=192.168.2.1 check-gateway=ping distance=1</div>
                
                <div class="note">
                    <strong>Nota:</strong> El parámetro <code>distance=1</code> es el mismo para ambas rutas, lo que indica a RouterOS que ambas tienen el mismo costo y deben utilizarse para balanceo de carga.
                </div>
                
                <h4 class="mt-4">Paso 4: Configurar NAT para ambas interfaces WAN</h4>
                <p>Configura el enmascaramiento (NAT) para permitir que los clientes de la red local accedan a Internet a través de ambas conexiones:</p>
                
                <div class="command"># NAT para WAN1
/ip firewall nat add chain=srcnat out-interface=WAN1 action=masquerade

# NAT para WAN2
/ip firewall nat add chain=srcnat out-interface=WAN2 action=masquerade</div>
                
                <h4 class="mt-4">Paso 5: Configurar el algoritmo de balanceo (opcional)</h4>
                <p>Por defecto, RouterOS utiliza un algoritmo basado en el hash de las direcciones IP para distribuir el tráfico. Puedes modificar este comportamiento con el siguiente comando:</p>
                
                <div class="command"># Configurar el algoritmo de balanceo
/ip route rule set use-routing-mark=main gateway-selection-method=round-robin</div>
                
                <p>Opciones disponibles para <code>gateway-selection-method</code>:</p>
                <ul>
                    <li><strong>round-robin</strong>: Distribuye los paquetes de forma secuencial entre las rutas disponibles</li>
                    <li><strong>random</strong>: Selecciona una ruta aleatoria para cada paquete</li>
                    <li><strong>src-address</strong>: Selecciona la ruta basándose en la dirección IP de origen</li>
                    <li><strong>dst-address</strong>: Selecciona la ruta basándose en la dirección IP de destino</li>
                    <li><strong>both-addresses</strong>: Selecciona la ruta basándose en ambas direcciones IP (comportamiento por defecto)</li>
                </ul>
                
                <div class="warning">
                    <strong>Advertencia:</strong> Cambiar el algoritmo de balanceo a <code>round-robin</code> o <code>random</code> puede causar problemas con aplicaciones sensibles, ya que los paquetes de una misma conexión pueden tomar rutas diferentes.
                </div>
                
                <h4 class="mt-4">Paso 6: Configurar failover (opcional)</h4>
                <p>Si deseas que una de las conexiones sea de respaldo (failover) en lugar de balanceo, puedes configurar diferentes valores de distancia:</p>
                
                <div class="command"># Ruta principal (WAN1)
/ip route add dst-address=0.0.0.0/0 gateway=192.168.1.1 check-gateway=ping distance=1

# Ruta de respaldo (WAN2)
/ip route add dst-address=0.0.0.0/0 gateway=192.168.2.1 check-gateway=ping distance=2</div>
                
                <p>Con esta configuración, RouterOS utilizará WAN1 como ruta principal y solo utilizará WAN2 si WAN1 no está disponible.</p>
            </div>
            
            <div id="ecmp-verificacion" class="mt-5">
                <h3>6.3 Verificación y pruebas</h3>
                <p>Una vez configurado el balanceo de carga ECMP, es importante verificar que funciona correctamente:</p>
                
                <h4>Verificar las rutas configuradas</h4>
                <p>Para ver las rutas configuradas y su estado:</p>
                
                <div class="command">/ip route print</div>
                
                <p>Deberías ver ambas rutas por defecto con el mismo valor de distancia (1) y el estado "A" (activo).</p>
                
                <h4>Verificar el uso de ancho de banda</h4>
                <p>Para monitorear el tráfico en cada interfaz WAN:</p>
                
                <div class="command">/interface monitor-traffic WAN1,WAN2</div>
                
                <h4>Prueba de conectividad</h4>
                <p>Realiza pruebas de ping desde dispositivos en la red local para verificar la conectividad:</p>
                
                <div class="command">/ping 8.8.8.8 count=10</div>
                
                <h4>Prueba de failover</h4>
                <p>Para probar que el failover funciona correctamente (si lo has configurado), puedes desconectar temporalmente una de las interfaces WAN y verificar que el tráfico continúa fluyendo a través de la otra interfaz.</p>
                
                <div class="note">
                    <strong>Consejo:</strong> Si experimentas problemas con aplicaciones sensibles al usar ECMP, considera cambiar a balanceo PCC, que mantiene la integridad de las conexiones.
                </div>
                
                <h4>Solución de problemas comunes con ECMP</h4>
                <ul>
                    <li><strong>Problemas con aplicaciones web:</strong> Si experimentas desconexiones o errores en aplicaciones web, es posible que los paquetes de una misma conexión estén tomando rutas diferentes. Considera usar PCC en su lugar.</li>
                    <li><strong>Distribución desigual del tráfico:</strong> Si observas que una interfaz WAN está más cargada que la otra, verifica que ambas rutas tienen el mismo valor de distancia y que ambas están activas.</li>
                    <li><strong>Problemas con VPNs:</strong> Las conexiones VPN suelen ser muy sensibles a cambios de ruta. Si utilizas VPNs, considera usar PCC o configurar reglas específicas para el tráfico VPN.</li>
                </ul>
            </div>
        </div>
    </div>
</section></div>
        <script>
            fetch('mikrotik-ecmp-section.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('balanceo-ecmp').innerHTML = data;
                });
        </script>

        <!-- Sección de Failover -->
        <div id="failover"><section id="failover" class="mb-5">
    <div class="card">
        <div class="card-header bg-primary text-white">
            <h2 class="h4 mb-0">7. Configuración de Failover (Conmutación por error)</h2>
        </div>
        <div class="card-body">
            <div id="failover-teoria">
                <h3>7.1 Teoría y funcionamiento</h3>
                <p>El failover o conmutación por error es un mecanismo que permite a un router cambiar automáticamente a una conexión de respaldo cuando la conexión principal falla. A diferencia del balanceo de carga, donde el objetivo es distribuir el tráfico entre múltiples conexiones, el failover se centra en garantizar la continuidad del servicio.</p>
                
                <div class="note">
                    <strong>¿Qué es el Failover?</strong> Es un sistema de alta disponibilidad que permite que una conexión secundaria (o de respaldo) tome el control automáticamente cuando la conexión principal falla, minimizando así el tiempo de inactividad.
                </div>
                
                <p><strong>Ventajas del Failover:</strong></p>
                <ul>
                    <li>Garantiza la continuidad del servicio de Internet</li>
                    <li>Transición automática entre conexiones sin intervención manual</li>
                    <li>Ideal para entornos donde la disponibilidad es crítica</li>
                    <li>Puede combinarse con balanceo de carga para mayor flexibilidad</li>
                </ul>
                
                <p><strong>Funcionamiento del Failover en MikroTik:</strong></p>
                <p>RouterOS implementa el failover principalmente a través de dos mecanismos:</p>
                <ol>
                    <li><strong>Distancia de rutas</strong>: Asignando diferentes valores de distancia (métrica) a las rutas</li>
                    <li><strong>Comprobación de gateway</strong>: Monitorizando la disponibilidad de los gateways mediante pings u otros métodos</li>
                </ol>
                
                <p>Cuando la ruta principal (con menor distancia) deja de estar disponible, RouterOS automáticamente comienza a utilizar la siguiente ruta disponible con la menor distancia.</p>
                
                <div class="diagram-container">
                    <img src="./Manual de Configuraciones Básicas de Router MikroTik para Balanceo de Carga_files/mikrotik-failover-diagram.svg" alt="Diagrama de funcionamiento de Failover" class="img-fluid">
                    <p class="figure-caption">Figura 4: Funcionamiento del Failover en MikroTik</p>
                </div>
            </div>
            
            <div id="failover-configuracion" class="mt-5">
                <h3>7.2 Configuración paso a paso</h3>
                <p>A continuación, se presenta una guía paso a paso para configurar el failover en un router MikroTik. Este ejemplo asume que tenemos dos conexiones a Internet: una principal (WAN1) y una de respaldo (WAN2).</p>
                
                <div class="warning">
                    <strong>Importante:</strong> Antes de comenzar, asegúrate de tener acceso al router a través de otro medio (como consola) en caso de que pierdas conectividad durante la configuración.
                </div>
                
                <h4 class="mt-4">Paso 1: Identificar y configurar las interfaces</h4>
                <p>Al igual que en las configuraciones anteriores, primero identifica las interfaces que utilizarás:</p>
                
                <ul class="steps">
                    <li>
                        <strong>Identificar interfaces:</strong> Usa el siguiente comando para ver las interfaces disponibles:
                        <div class="command">/interface print</div>
                    </li>
                    <li>
                        <strong>Renombrar interfaces (opcional):</strong> Para mayor claridad, puedes renombrar las interfaces:
                        <div class="command">/interface set 0 name=WAN1
/interface set 1 name=WAN2
/interface set 2 name=LAN</div>
                    </li>
                </ul>
                
                <h4 class="mt-4">Paso 2: Configurar direcciones IP</h4>
                <p>Configura las direcciones IP para cada interfaz:</p>
                
                <div class="command"># Configurar WAN1 (ejemplo con DHCP)
/ip address add interface=WAN1 address=dhcp

# Configurar WAN2 (ejemplo con IP estática)
/ip address add interface=WAN2 address=192.168.2.2/24

# Configurar LAN
/ip address add interface=LAN address=192.168.0.1/24</div>
                
                <h4 class="mt-4">Paso 3: Configurar rutas con diferentes distancias</h4>
                <p>La clave del failover es configurar rutas con diferentes valores de distancia y habilitar la comprobación de gateway:</p>
                
                <div class="command"># Ruta principal (WAN1)
/ip route add dst-address=0.0.0.0/0 gateway=192.168.1.1 check-gateway=ping distance=1

# Ruta de respaldo (WAN2)
/ip route add dst-address=0.0.0.0/0 gateway=192.168.2.1 check-gateway=ping distance=2</div>
                
                <div class="note">
                    <strong>Nota:</strong> El parámetro <code>distance=1</code> para WAN1 indica que es la ruta preferida, mientras que <code>distance=2</code> para WAN2 indica que es la ruta de respaldo. El parámetro <code>check-gateway=ping</code> es crucial, ya que permite que RouterOS verifique si el gateway está disponible.
                </div>
                
                <h4 class="mt-4">Paso 4: Configurar NAT para ambas interfaces WAN</h4>
                <p>Configura el enmascaramiento (NAT) para permitir que los clientes de la red local accedan a Internet a través de ambas conexiones:</p>
                
                <div class="command"># NAT para WAN1
/ip firewall nat add chain=srcnat out-interface=WAN1 action=masquerade

# NAT para WAN2
/ip firewall nat add chain=srcnat out-interface=WAN2 action=masquerade</div>
                
                <h4 class="mt-4">Paso 5: Configurar monitorización avanzada (opcional)</h4>
                <p>Para una monitorización más avanzada, puedes utilizar el script de Netwatch para verificar la conectividad a Internet y cambiar automáticamente entre conexiones:</p>
                
                <div class="command"># Crear script para verificar WAN1 y cambiar a WAN2 si falla
/system script add name=check-wan1 source={
    :local pingTarget 8.8.8.8;
    :local pingCount 5;
    :local successThreshold 3;
    :local wan1Gateway [/ip route get [find dst-address=0.0.0.0/0 distance=1] gateway];
    :local wan2Gateway [/ip route get [find dst-address=0.0.0.0/0 distance=2] gateway];
    
    :local pingResult [/ping $pingTarget count=$pingCount interface=WAN1];
    
    :if ($pingResult &lt; $successThreshold) do={
        :log warning "WAN1 connection failed. Switching to WAN2";
        /ip route set [find dst-address=0.0.0.0/0 gateway=$wan1Gateway] distance=10;
        /ip route set [find dst-address=0.0.0.0/0 gateway=$wan2Gateway] distance=1;
    }
}

# Crear script para verificar WAN2 y volver a WAN1 si está disponible
/system script add name=check-wan2 source={
    :local pingTarget 8.8.8.8;
    :local pingCount 5;
    :local successThreshold 3;
    :local wan1Gateway [/ip route get [find dst-address=0.0.0.0/0 distance=10] gateway];
    :local wan2Gateway [/ip route get [find dst-address=0.0.0.0/0 distance=1] gateway];
    
    :local pingResult [/ping $pingTarget count=$pingCount interface=WAN1];
    
    :if ($pingResult &gt;= $successThreshold) do={
        :log info "WAN1 connection restored. Switching back from WAN2";
        /ip route set [find dst-address=0.0.0.0/0 gateway=$wan1Gateway] distance=1;
        /ip route set [find dst-address=0.0.0.0/0 gateway=$wan2Gateway] distance=2;
    }
}

# Configurar Netwatch para ejecutar los scripts periódicamente
/tool netwatch add host=8.8.8.8 interval=30s timeout=5s up-script=check-wan2 down-script=check-wan1</div>
                
                <p>Este script verifica la conectividad a 8.8.8.8 (servidor DNS de Google) a través de la interfaz WAN1. Si la conexión falla, cambia automáticamente a WAN2. Cuando WAN1 vuelve a estar disponible, el router vuelve a utilizarla como conexión principal.</p>
                
                <h4 class="mt-4">Paso 6: Configurar notificaciones (opcional)</h4>
                <p>Puedes configurar notificaciones para recibir alertas cuando se produzca un cambio de conexión:</p>
                
                <div class="command"># Configurar notificaciones por correo electrónico
/tool e-mail set server=smtp.tuproveedor.com from=router@tudominio.com

# Añadir script para enviar notificaciones
/system script add name=notify-failover source={
    :local subject "MikroTik Failover Alert";
    :local body "Failover event occurred. Switched from $1 to $2 at $[/system clock get date] $[/system clock get time]";
    /tool e-mail send to=admin@tudominio.com subject=$subject body=$body;
}</div>
                
                <p>Luego, modifica los scripts anteriores para incluir llamadas a este script de notificación cuando se produzca un cambio de conexión.</p>
            </div>
            
            <div id="failover-verificacion" class="mt-5">
                <h3>7.3 Verificación y pruebas</h3>
                <p>Una vez configurado el failover, es importante verificar que funciona correctamente:</p>
                
                <h4>Verificar las rutas configuradas</h4>
                <p>Para ver las rutas configuradas y su estado:</p>
                
                <div class="command">/ip route print</div>
                
                <p>Deberías ver ambas rutas por defecto con diferentes valores de distancia (1 para WAN1 y 2 para WAN2) y el estado "A" (activo) para la ruta principal.</p>
                
                <h4>Prueba de failover</h4>
                <p>Para probar que el failover funciona correctamente, puedes simular una falla en la conexión principal:</p>
                
                <ul class="steps">
                    <li>
                        <strong>Desconectar físicamente el cable de WAN1</strong> o deshabilitar la interfaz:
                        <div class="command">/interface disable WAN1</div>
                    </li>
                    <li>
                        <strong>Verificar que el tráfico se redirige automáticamente a WAN2:</strong>
                        <div class="command">/ip route print</div>
                    </li>
                    <li>
                        <strong>Realizar pruebas de ping para confirmar la conectividad:</strong>
                        <div class="command">/ping 8.8.8.8 count=5</div>
                    </li>
                    <li>
                        <strong>Volver a conectar o habilitar WAN1:</strong>
                        <div class="command">/interface enable WAN1</div>
                    </li>
                    <li>
                        <strong>Verificar que el tráfico vuelve a utilizar WAN1:</strong>
                        <div class="command">/ip route print</div>
                    </li>
                </ul>
                
                <h4>Monitorizar el estado de las conexiones</h4>
                <p>Puedes utilizar las siguientes herramientas para monitorizar el estado de las conexiones:</p>
                
                <div class="command"># Ver el estado de las interfaces
/interface monitor-status WAN1,WAN2

# Ver el registro del sistema para eventos de failover
/log print where topics~"script"

# Ver el estado de Netwatch (si lo has configurado)
/tool netwatch print</div>
                
                <div class="note">
                    <strong>Consejo:</strong> Para un monitoreo más visual, puedes utilizar The Dude, una herramienta de monitorización de red gratuita desarrollada por MikroTik, que te permite visualizar gráficamente el estado de tus conexiones.
                </div>
                
                <h4>Ajustes adicionales para mejorar el failover</h4>
                <ul>
                    <li><strong>Tiempo de detección:</strong> Ajusta los parámetros de <code>interval</code> y <code>timeout</code> en Netwatch para controlar la rapidez con la que se detecta una falla.</li>
                    <li><strong>Múltiples destinos de prueba:</strong> En lugar de verificar solo 8.8.8.8, considera añadir múltiples destinos de prueba (como 1.1.1.1 o los servidores de tu ISP) para evitar falsos positivos.</li>
                    <li><strong>Histéresis:</strong> Implementa un mecanismo de histéresis para evitar cambios frecuentes entre conexiones cuando una conexión es inestable.</li>
                </ul>
                
                <div class="warning">
                    <strong>Importante:</strong> Recuerda que durante el tiempo que tarda el router en detectar la falla y cambiar a la conexión de respaldo, puede haber una breve interrupción del servicio. Ajusta los parámetros de monitorización según tus necesidades de disponibilidad.
                </div>
            </div>
        </div>
    </div>
</section></div>
        <script>
            fetch('mikrotik-failover-section.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('failover').innerHTML = data;
                });
        </script>

        <!-- Sección de Casos de Uso -->
        <div id="casos-uso">


    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Casos de Uso - Manual MikroTik</title>
    <link rel="stylesheet" href="./Manual de Configuraciones Básicas de Router MikroTik para Balanceo de Carga_files/mikrotik-styles.css">



<div class="section-content">
    <h2 id="casos-uso">Casos de Uso Prácticos</h2>
    
    <div class="intro-text">
        <p>En esta sección presentamos varios escenarios reales donde el balanceo de carga con routers MikroTik puede implementarse de manera efectiva. Cada caso de uso incluye el escenario, los requisitos específicos y la solución recomendada.</p>
    </div>

    <!-- Caso de Uso 1 -->
    <div class="use-case">
        <h3 id="caso-pyme">Caso 1: PYME con Dos Conexiones a Internet</h3>
        
        <div class="scenario-box">
            <h4>Escenario:</h4>
            <p>Una pequeña empresa con 25 empleados cuenta con dos conexiones a Internet:</p>
            <ul>
                <li>Conexión de fibra óptica de 100 Mbps (ISP1)</li>
                <li>Conexión ADSL de respaldo de 20 Mbps (ISP2)</li>
            </ul>
            <p>La empresa necesita maximizar el ancho de banda disponible durante las horas de trabajo y garantizar la continuidad del servicio en caso de fallo de alguna conexión.</p>
        </div>

        <div class="requirements-box">
            <h4>Requisitos:</h4>
            <ul>
                <li>Utilizar ambas conexiones simultáneamente para maximizar el ancho de banda</li>
                <li>Priorizar la conexión de fibra para servicios críticos</li>
                <li>Garantizar la continuidad del servicio en caso de fallo</li>
                <li>Implementación sencilla y fácil de mantener</li>
            </ul>
        </div>

        <div class="solution-box">
            <h4>Solución Recomendada:</h4>
            <p><strong>Balanceo de carga PCC con failover</strong></p>
            
            <p>Configuración básica:</p>
            <div class="code-block">
                <pre><code># Configuración de interfaces
/interface set ether1 name=WAN1-FIBRA
/interface set ether2 name=WAN2-ADSL
/interface set ether3 name=LAN

# Configuración de direcciones IP
/ip address add address=192.168.1.1/24 interface=LAN
/ip address add address=203.0.113.2/30 interface=WAN1-FIBRA
/ip address add address=198.51.100.2/30 interface=WAN2-ADSL

# Configuración de rutas por defecto
/ip route add dst-address=0.0.0.0/0 gateway=203.0.113.1 distance=1 check-gateway=ping
/ip route add dst-address=0.0.0.0/0 gateway=198.51.100.1 distance=2 check-gateway=ping

# Configuración de marcado de conexiones (mangle)
/ip firewall mangle add chain=prerouting action=mark-connection new-connection-mark=WAN1_conn passthrough=yes in-interface=LAN per-connection-classifier=both-addresses:2/0
/ip firewall mangle add chain=prerouting action=mark-connection new-connection-mark=WAN2_conn passthrough=yes in-interface=LAN per-connection-classifier=both-addresses:2/1

# Marcado de rutas
/ip firewall mangle add chain=prerouting action=mark-routing new-routing-mark=to_WAN1 passthrough=yes connection-mark=WAN1_conn
/ip firewall mangle add chain=prerouting action=mark-routing new-routing-mark=to_WAN2 passthrough=yes connection-mark=WAN2_conn

# Rutas para el balanceo
/ip route add dst-address=0.0.0.0/0 gateway=203.0.113.1 routing-mark=to_WAN1 check-gateway=ping
/ip route add dst-address=0.0.0.0/0 gateway=198.51.100.1 routing-mark=to_WAN2 check-gateway=ping

# Configuración de NAT
/ip firewall nat add chain=srcnat action=masquerade out-interface=WAN1-FIBRA
/ip firewall nat add chain=srcnat action=masquerade out-interface=WAN2-ADSL</code></pre>
            </div>
            
            <p>Ventajas de esta solución:</p>
            <ul>
                <li>Utiliza ambas conexiones simultáneamente (60% de tráfico por fibra, 40% por ADSL)</li>
                <li>Proporciona failover automático si una conexión falla</li>
                <li>Mantiene las sesiones estables en cada conexión</li>
                <li>Fácil de implementar y mantener</li>
            </ul>
        </div>
    </div>

    <!-- Caso de Uso 2 -->
    <div class="use-case">
        <h3 id="caso-isp-multiple">Caso 2: Balanceo con Múltiples ISPs de Igual Capacidad</h3>
        
        <div class="scenario-box">
            <h4>Escenario:</h4>
            <p>Un centro de datos pequeño necesita alta disponibilidad y rendimiento óptimo con tres conexiones a Internet de igual capacidad:</p>
            <ul>
                <li>Tres conexiones de fibra de 500 Mbps cada una (ISP1, ISP2, ISP3)</li>
            </ul>
            <p>El centro requiere distribuir la carga de manera uniforme entre las tres conexiones y mantener la continuidad del servicio si alguna conexión falla.</p>
        </div>

        <div class="requirements-box">
            <h4>Requisitos:</h4>
            <ul>
                <li>Distribución equitativa del tráfico entre las tres conexiones</li>
                <li>Alta disponibilidad con failover automático</li>
                <li>Monitoreo activo de las conexiones</li>
                <li>Optimización del rendimiento de la red</li>
            </ul>
        </div>

        <div class="solution-box">
            <h4>Solución Recomendada:</h4>
            <p><strong>Balanceo de carga ECMP con monitoreo avanzado</strong></p>
            
            <p>Configuración básica:</p>
            <div class="code-block">
                <pre><code># Configuración de interfaces
/interface set ether1 name=WAN1
/interface set ether2 name=WAN2
/interface set ether3 name=WAN3
/interface set ether4 name=LAN

# Configuración de direcciones IP
/ip address add address=192.168.1.1/24 interface=LAN
/ip address add address=203.0.113.2/30 interface=WAN1
/ip address add address=198.51.100.2/30 interface=WAN2
/ip address add address=192.0.2.2/30 interface=WAN3

# Configuración de rutas ECMP
/ip route add dst-address=0.0.0.0/0 gateway=203.0.113.1,198.51.100.1,192.0.2.1 check-gateway=ping

# Configuración de NAT
/ip firewall nat add chain=srcnat action=masquerade out-interface=WAN1
/ip firewall nat add chain=srcnat action=masquerade out-interface=WAN2
/ip firewall nat add chain=srcnat action=masquerade out-interface=WAN3

# Configuración de monitoreo avanzado con Netwatch
/tool netwatch
add host=203.0.113.1 interval=10s timeout=1s up-script="/ip route set [find gateway=\"203.0.113.1,198.51.100.1,192.0.2.1\"] gateway=\"203.0.113.1,198.51.100.1,192.0.2.1\"" down-script="/ip route set [find gateway=\"203.0.113.1,198.51.100.1,192.0.2.1\"] gateway=\"198.51.100.1,192.0.2.1\"" 
add host=198.51.100.1 interval=10s timeout=1s up-script="/ip route set [find gateway=\"203.0.113.1,198.51.100.1,192.0.2.1\"] gateway=\"203.0.113.1,198.51.100.1,192.0.2.1\"" down-script="/ip route set [find gateway=\"203.0.113.1,198.51.100.1,192.0.2.1\"] gateway=\"203.0.113.1,192.0.2.1\"" 
add host=192.0.2.1 interval=10s timeout=1s up-script="/ip route set [find gateway=\"203.0.113.1,198.51.100.1,192.0.2.1\"] gateway=\"203.0.113.1,198.51.100.1,192.0.2.1\"" down-script="/ip route set [find gateway=\"203.0.113.1,198.51.100.1,192.0.2.1\"] gateway=\"203.0.113.1,198.51.100.1\""</code></pre>
            </div>
            
            <p>Ventajas de esta solución:</p>
            <ul>
                <li>Distribución equitativa del tráfico (33% por cada conexión)</li>
                <li>Configuración más simple que PCC para múltiples conexiones</li>
                <li>Monitoreo activo que ajusta automáticamente las rutas</li>
                <li>Escalable para añadir más conexiones en el futuro</li>
            </ul>
        </div>
    </div>

    <!-- Caso de Uso 3 -->
    <div class="use-case">
        <h3 id="caso-asimetrico">Caso 3: Balanceo Asimétrico para Diferentes Tipos de Tráfico</h3>
        
        <div class="scenario-box">
            <h4>Escenario:</h4>
            <p>Una empresa de diseño gráfico con 15 empleados tiene dos conexiones a Internet:</p>
            <ul>
                <li>Conexión de fibra de 200 Mbps con baja latencia (ISP1)</li>
                <li>Conexión de cable de 100 Mbps con mayor ancho de banda de subida (ISP2)</li>
            </ul>
            <p>La empresa necesita priorizar ciertos tipos de tráfico por conexiones específicas: videoconferencias por la conexión de baja latencia y transferencias de archivos grandes por la conexión con mejor subida.</p>
        </div>

        <div class="requirements-box">
            <h4>Requisitos:</h4>
            <ul>
                <li>Dirigir el tráfico de videoconferencia por la conexión de baja latencia</li>
                <li>Enviar las transferencias de archivos grandes por la conexión con mejor subida</li>
                <li>Balancear el resto del tráfico entre ambas conexiones</li>
                <li>Mantener failover en caso de fallo de alguna conexión</li>
            </ul>
        </div>

        <div class="solution-box">
            <h4>Solución Recomendada:</h4>
            <p><strong>Balanceo de carga PCC con reglas de política por tipo de tráfico</strong></p>
            
            <p>Configuración básica:</p>
            <div class="code-block">
                <pre><code># Configuración de interfaces
/interface set ether1 name=WAN1-FIBRA
/interface set ether2 name=WAN2-CABLE
/interface set ether3 name=LAN

# Configuración de direcciones IP
/ip address add address=192.168.1.1/24 interface=LAN
/ip address add address=203.0.113.2/30 interface=WAN1-FIBRA
/ip address add address=198.51.100.2/30 interface=WAN2-CABLE

# Configuración de rutas por defecto
/ip route add dst-address=0.0.0.0/0 gateway=203.0.113.1 distance=1 check-gateway=ping
/ip route add dst-address=0.0.0.0/0 gateway=198.51.100.1 distance=2 check-gateway=ping

# Marcado de tráfico específico
# Videoconferencias (Zoom, Teams, Meet)
/ip firewall mangle add chain=prerouting action=mark-connection new-connection-mark=WAN1_conn passthrough=yes in-interface=LAN protocol=tcp dst-port=3478,3479,5938,8801-8802
/ip firewall mangle add chain=prerouting action=mark-connection new-connection-mark=WAN1_conn passthrough=yes in-interface=LAN protocol=udp dst-port=3478,3479,8801-8802

# Servicios de almacenamiento en la nube (para subidas grandes)
/ip firewall mangle add chain=prerouting action=mark-connection new-connection-mark=WAN2_conn passthrough=yes in-interface=LAN dst-address-list=cloud-storage

# Lista de direcciones para servicios en la nube
/ip firewall address-list add list=cloud-storage address=dropbox.com
/ip firewall address-list add list=cloud-storage address=drive.google.com
/ip firewall address-list add list=cloud-storage address=onedrive.live.com

# Balanceo PCC para el resto del tráfico
/ip firewall mangle add chain=prerouting action=mark-connection new-connection-mark=WAN1_conn passthrough=yes in-interface=LAN connection-mark=no-mark per-connection-classifier=both-addresses:2/0
/ip firewall mangle add chain=prerouting action=mark-connection new-connection-mark=WAN2_conn passthrough=yes in-interface=LAN connection-mark=no-mark per-connection-classifier=both-addresses:2/1

# Marcado de rutas
/ip firewall mangle add chain=prerouting action=mark-routing new-routing-mark=to_WAN1 passthrough=yes connection-mark=WAN1_conn
/ip firewall mangle add chain=prerouting action=mark-routing new-routing-mark=to_WAN2 passthrough=yes connection-mark=WAN2_conn

# Rutas para el balanceo
/ip route add dst-address=0.0.0.0/0 gateway=203.0.113.1 routing-mark=to_WAN1 check-gateway=ping
/ip route add dst-address=0.0.0.0/0 gateway=198.51.100.1 routing-mark=to_WAN2 check-gateway=ping

# Configuración de NAT
/ip firewall nat add chain=srcnat action=masquerade out-interface=WAN1-FIBRA
/ip firewall nat add chain=srcnat action=masquerade out-interface=WAN2-CABLE</code></pre>
            </div>
            
            <p>Ventajas de esta solución:</p>
            <ul>
                <li>Optimiza el rendimiento de aplicaciones específicas</li>
                <li>Dirige el tráfico sensible a la latencia por la mejor conexión</li>
                <li>Aprovecha la mejor capacidad de subida para transferencias grandes</li>
                <li>Mantiene el balanceo para el resto del tráfico</li>
                <li>Proporciona failover automático si una conexión falla</li>
            </ul>
        </div>
    </div>

    <!-- Caso de Uso 4 -->
    <div class="use-case">
        <h3 id="caso-hotspot">Caso 4: Hotspot Público con Balanceo de Carga</h3>
        
        <div class="scenario-box">
            <h4>Escenario:</h4>
            <p>Un café con servicio de Wi-Fi para clientes tiene dos conexiones a Internet:</p>
            <ul>
                <li>Conexión principal de 50 Mbps</li>
                <li>Conexión secundaria de 30 Mbps</li>
            </ul>
            <p>El establecimiento necesita ofrecer un servicio Wi-Fi estable a sus clientes, con limitación de ancho de banda por usuario y balanceo entre ambas conexiones.</p>
        </div>

        <div class="requirements-box">
            <h4>Requisitos:</h4>
            <ul>
                <li>Implementar un hotspot con portal cautivo</li>
                <li>Limitar el ancho de banda por usuario</li>
                <li>Balancear la carga entre ambas conexiones</li>
                <li>Priorizar ciertos servicios (navegación web) sobre otros (descargas)</li>
            </ul>
        </div>

        <div class="solution-box">
            <h4>Solución Recomendada:</h4>
            <p><strong>Hotspot con PCC y gestión de ancho de banda</strong></p>
            
            <p>Configuración básica:</p>
            <div class="code-block">
                <pre><code># Configuración de interfaces
/interface set ether1 name=WAN1
/interface set ether2 name=WAN2
/interface set ether3 name=LAN
/interface wireless
set [ find default-name=wlan1 ] ssid=Cafe-WiFi mode=ap-bridge frequency=2437 band=2ghz-b/g/n wireless-protocol=802.11 disabled=no

# Configuración de bridge para LAN y WiFi
/interface bridge
add name=bridge-local
/interface bridge port
add bridge=bridge-local interface=LAN
add bridge=bridge-local interface=wlan1

# Configuración de direcciones IP
/ip address add address=192.168.1.1/24 interface=bridge-local
/ip address add address=203.0.113.2/30 interface=WAN1
/ip address add address=198.51.100.2/30 interface=WAN2

# Configuración de rutas por defecto
/ip route add dst-address=0.0.0.0/0 gateway=203.0.113.1 distance=1 check-gateway=ping
/ip route add dst-address=0.0.0.0/0 gateway=198.51.100.1 distance=2 check-gateway=ping

# Configuración de Hotspot
/ip hotspot profile
add name=cafe-profile hotspot-address=192.168.1.1 dns-name=wifi.cafe.local
/ip hotspot
add name=hotspot1 interface=bridge-local address-pool=hs-pool-1 profile=cafe-profile
/ip pool
add name=hs-pool-1 ranges=192.168.1.10-192.168.1.254

# Configuración de límite de ancho de banda
/ip hotspot user profile
add name=limited rate-limit=2M/2M
/ip hotspot user
add name=default profile=limited

# Configuración de balanceo PCC
/ip firewall mangle add chain=prerouting action=mark-connection new-connection-mark=WAN1_conn passthrough=yes in-interface=bridge-local per-connection-classifier=both-addresses:2/0
/ip firewall mangle add chain=prerouting action=mark-connection new-connection-mark=WAN2_conn passthrough=yes in-interface=bridge-local per-connection-classifier=both-addresses:2/1

# Marcado de rutas
/ip firewall mangle add chain=prerouting action=mark-routing new-routing-mark=to_WAN1 passthrough=yes connection-mark=WAN1_conn
/ip firewall mangle add chain=prerouting action=mark-routing new-routing-mark=to_WAN2 passthrough=yes connection-mark=WAN2_conn

# Rutas para el balanceo
/ip route add dst-address=0.0.0.0/0 gateway=203.0.113.1 routing-mark=to_WAN1 check-gateway=ping
/ip route add dst-address=0.0.0.0/0 gateway=198.51.100.1 routing-mark=to_WAN2 check-gateway=ping

# Configuración de NAT
/ip firewall nat add chain=srcnat action=masquerade out-interface=WAN1
/ip firewall nat add chain=srcnat action=masquerade out-interface=WAN2

# Priorización de tráfico (QoS simple)
/queue type add name=pcq-download kind=pcq pcq-rate=0 pcq-classifier=dst-address
/queue type add name=pcq-upload kind=pcq pcq-rate=0 pcq-classifier=src-address
/queue tree
add name=Web-Priority parent=bridge-local packet-mark=web-traffic priority=1 queue=pcq-download
add name=Download-Limit parent=bridge-local packet-mark=download-traffic priority=8 queue=pcq-download
/ip firewall mangle
add chain=forward action=mark-packet new-packet-mark=web-traffic passthrough=yes protocol=tcp dst-port=80,443
add chain=forward action=mark-packet new-packet-mark=download-traffic passthrough=yes protocol=tcp dst-port=1024-65535 connection-bytes=5000000-0</code></pre>
            </div>
            
            <p>Ventajas de esta solución:</p>
            <ul>
                <li>Proporciona un portal cautivo para control de acceso</li>
                <li>Limita el ancho de banda por usuario para evitar abusos</li>
                <li>Balancea la carga entre ambas conexiones</li>
                <li>Prioriza la navegación web sobre descargas grandes</li>
                <li>Ofrece failover automático si una conexión falla</li>
            </ul>
        </div>
    </div>

    <div class="note-box">
        <h4>Nota importante:</h4>
        <p>Las configuraciones presentadas son ejemplos básicos que deben adaptarse a cada entorno específico. Siempre realice pruebas en un entorno controlado antes de implementar en producción. Las direcciones IP utilizadas son ejemplos y deben reemplazarse por las direcciones reales de su red.</p>
    </div>

</div>


</div>
        <script>
            fetch('mikrotik-use-cases-section.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('casos-uso').innerHTML = data;
                });
        </script>

        <!-- Sección de Solución de Problemas -->
        <div id="troubleshooting">


    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solución de Problemas - Manual MikroTik</title>
    <link rel="stylesheet" href="./Manual de Configuraciones Básicas de Router MikroTik para Balanceo de Carga_files/mikrotik-styles.css">



<div class="section-content">
    <h2 id="solucion-problemas">Solución de Problemas</h2>
    
    <div class="intro-text">
        <p>En esta sección abordaremos los problemas más comunes que pueden surgir al configurar el balanceo de carga en routers MikroTik y cómo solucionarlos. Seguir estos pasos de diagnóstico le ayudará a identificar y resolver rápidamente los problemas de configuración.</p>
    </div>

    <!-- Problema 1 -->
    <div class="problem-box">
        <h3 id="problema-conexion">Problema: No hay conexión a Internet después de configurar el balanceo de carga</h3>
        
        <div class="symptoms">
            <h4>Síntomas:</h4>
            <ul>
                <li>Los dispositivos en la red local no pueden acceder a Internet</li>
                <li>El ping a direcciones externas falla</li>
                <li>Las interfaces WAN muestran conectividad física</li>
            </ul>
        </div>

        <div class="possible-causes">
            <h4>Posibles causas:</h4>
            <ul>
                <li>Configuración incorrecta de direcciones IP en las interfaces WAN</li>
                <li>Rutas por defecto mal configuradas</li>
                <li>Reglas de NAT ausentes o incorrectas</li>
                <li>Problemas con los proveedores de Internet</li>
                <li>Configuración incorrecta de las reglas de mangle (en PCC)</li>
            </ul>
        </div>

        <div class="solution">
            <h4>Solución:</h4>
            
            <ol class="numbered-steps">
                <li>
                    <strong>Verificar conectividad física:</strong>
                    <div class="code-block">
                        <pre><code>/interface print</code></pre>
                    </div>
                    <p>Compruebe que las interfaces WAN muestren "R" (running) en su estado.</p>
                </li>
                
                <li>
                    <strong>Verificar configuración de direcciones IP:</strong>
                    <div class="code-block">
                        <pre><code>/ip address print</code></pre>
                    </div>
                    <p>Confirme que cada interfaz WAN tiene la dirección IP correcta asignada.</p>
                </li>
                
                <li>
                    <strong>Comprobar conectividad con los gateways:</strong>
                    <div class="code-block">
                        <pre><code>/ping [dirección IP del gateway WAN1]
/ping [dirección IP del gateway WAN2]</code></pre>
                    </div>
                    <p>Si los pings fallan, verifique la configuración del proveedor o el cableado.</p>
                </li>
                
                <li>
                    <strong>Verificar rutas:</strong>
                    <div class="code-block">
                        <pre><code>/ip route print</code></pre>
                    </div>
                    <p>Compruebe que existen las rutas por defecto y que están activas (A).</p>
                </li>
                
                <li>
                    <strong>Verificar reglas de NAT:</strong>
                    <div class="code-block">
                        <pre><code>/ip firewall nat print</code></pre>
                    </div>
                    <p>Confirme que existen reglas de masquerade para cada interfaz WAN.</p>
                </li>
                
                <li>
                    <strong>Para PCC, verificar reglas de mangle:</strong>
                    <div class="code-block">
                        <pre><code>/ip firewall mangle print</code></pre>
                    </div>
                    <p>Compruebe que las reglas de marcado de conexiones y rutas están correctamente configuradas.</p>
                </li>
                
                <li>
                    <strong>Reiniciar servicios de red:</strong>
                    <div class="code-block">
                        <pre><code>/ip dns cache flush
/ip firewall connection remove [find]</code></pre>
                    </div>
                    <p>Esto limpiará la caché DNS y las conexiones existentes.</p>
                </li>
            </ol>
        </div>
    </div>

    <!-- Problema 2 -->
    <div class="problem-box">
        <h3 id="problema-desbalance">Problema: El tráfico no se balancea correctamente entre las conexiones</h3>
        
        <div class="symptoms">
            <h4>Síntomas:</h4>
            <ul>
                <li>Una conexión WAN muestra mucho más tráfico que la otra</li>
                <li>El rendimiento de la red no mejora después de configurar el balanceo</li>
                <li>Algunas aplicaciones funcionan lentamente a pesar del balanceo</li>
            </ul>
        </div>

        <div class="possible-causes">
            <h4>Posibles causas:</h4>
            <ul>
                <li>Configuración incorrecta del clasificador PCC</li>
                <li>Conexiones persistentes que utilizan siempre la misma ruta</li>
                <li>Diferencia significativa en la capacidad de las conexiones</li>
                <li>Algoritmo ECMP no óptimo para el tipo de tráfico</li>
            </ul>
        </div>

        <div class="solution">
            <h4>Solución:</h4>
            
            <ol class="numbered-steps">
                <li>
                    <strong>Verificar el uso actual de las interfaces:</strong>
                    <div class="code-block">
                        <pre><code>/interface monitor-traffic WAN1
/interface monitor-traffic WAN2</code></pre>
                    </div>
                    <p>Observe el tráfico en tiempo real para confirmar el desbalance.</p>
                </li>
                
                <li>
                    <strong>Para PCC, ajustar el divisor del clasificador:</strong>
                    <p>Si tiene dos conexiones de diferente capacidad, ajuste el clasificador para distribuir el tráfico proporcionalmente:</p>
                    <div class="code-block">
                        <pre><code># Para conexión WAN1 con 70% y WAN2 con 30% de capacidad
/ip firewall mangle remove [find where comment="PCC Rules"]
/ip firewall mangle add chain=prerouting action=mark-connection new-connection-mark=WAN1_conn passthrough=yes in-interface=LAN per-connection-classifier=both-addresses:3/0 comment="PCC Rules"
/ip firewall mangle add chain=prerouting action=mark-connection new-connection-mark=WAN1_conn passthrough=yes in-interface=LAN per-connection-classifier=both-addresses:3/1 comment="PCC Rules"
/ip firewall mangle add chain=prerouting action=mark-connection new-connection-mark=WAN2_conn passthrough=yes in-interface=LAN per-connection-classifier=both-addresses:3/2 comment="PCC Rules"</code></pre>
                    </div>
                    <p>Esto asigna 2/3 del tráfico a WAN1 y 1/3 a WAN2.</p>
                </li>
                
                <li>
                    <strong>Para ECMP, ajustar el algoritmo:</strong>
                    <div class="code-block">
                        <pre><code># Cambiar al algoritmo que mejor se adapte a su tráfico
/routing ecmp set algorithm=weighted</code></pre>
                    </div>
                    <p>Pruebe diferentes algoritmos (weighted, random, round-robin) para encontrar el más adecuado.</p>
                </li>
                
                <li>
                    <strong>Verificar las conexiones activas:</strong>
                    <div class="code-block">
                        <pre><code>/ip firewall connection print where marked</code></pre>
                    </div>
                    <p>Observe cómo se están distribuyendo las conexiones entre las marcas.</p>
                </li>
                
                <li>
                    <strong>Limpiar conexiones existentes para aplicar nuevas reglas:</strong>
                    <div class="code-block">
                        <pre><code>/ip firewall connection remove [find]</code></pre>
                    </div>
                    <p>Esto forzará a que las nuevas conexiones utilicen las reglas actualizadas.</p>
                </li>
            </ol>
        </div>
    </div>

    <!-- Problema 3 -->
    <div class="problem-box">
        <h3 id="problema-failover">Problema: El failover no funciona correctamente</h3>
        
        <div class="symptoms">
            <h4>Síntomas:</h4>
            <ul>
                <li>Cuando una conexión WAN falla, no se produce la conmutación automática</li>
                <li>Pérdida de conectividad durante fallos de conexión</li>
                <li>El sistema no vuelve a la conexión principal cuando se restablece</li>
            </ul>
        </div>

        <div class="possible-causes">
            <h4>Posibles causas:</h4>
            <ul>
                <li>Falta de configuración de check-gateway en las rutas</li>
                <li>Distancias de rutas configuradas incorrectamente</li>
                <li>Problemas con el monitoreo de las conexiones</li>
                <li>Configuración incorrecta de Netwatch</li>
            </ul>
        </div>

        <div class="solution">
            <h4>Solución:</h4>
            
            <ol class="numbered-steps">
                <li>
                    <strong>Verificar configuración de rutas con check-gateway:</strong>
                    <div class="code-block">
                        <pre><code>/ip route print detail</code></pre>
                    </div>
                    <p>Confirme que las rutas tienen configurado check-gateway=ping y las distancias correctas.</p>
                </li>
                
                <li>
                    <strong>Ajustar la configuración de check-gateway:</strong>
                    <div class="code-block">
                        <pre><code>/ip route set [find gateway=203.0.113.1] check-gateway=ping scope=30 target-scope=10
/ip route set [find gateway=198.51.100.1] check-gateway=ping scope=30 target-scope=10</code></pre>
                    </div>
                    <p>Esto mejora la detección de fallos en los gateways.</p>
                </li>
                
                <li>
                    <strong>Configurar monitoreo avanzado con Netwatch:</strong>
                    <div class="code-block">
                        <pre><code>/tool netwatch
add host=8.8.8.8 interval=5s timeout=1s up-script="/ip route enable [find gateway=203.0.113.1]" down-script="/ip route disable [find gateway=203.0.113.1]"</code></pre>
                    </div>
                    <p>Esto proporciona un monitoreo más fiable que el check-gateway básico.</p>
                </li>
                
                <li>
                    <strong>Probar el failover manualmente:</strong>
                    <div class="code-block">
                        <pre><code># Deshabilitar temporalmente la ruta principal para simular un fallo
/ip route disable [find gateway=203.0.113.1]</code></pre>
                    </div>
                    <p>Verifique que el tráfico se redirige correctamente a la ruta secundaria.</p>
                </li>
                
                <li>
                    <strong>Restaurar la ruta principal:</strong>
                    <div class="code-block">
                        <pre><code>/ip route enable [find gateway=203.0.113.1]</code></pre>
                    </div>
                    <p>Verifique que el tráfico vuelve a la ruta principal.</p>
                </li>
                
                <li>
                    <strong>Ajustar tiempos de detección:</strong>
                    <div class="code-block">
                        <pre><code># Para una detección más rápida de fallos
/ip route set [find gateway=203.0.113.1] check-gateway=ping scope=30 target-scope=10 gateway-status=ping</code></pre>
                    </div>
                    <p>Esto puede reducir el tiempo de conmutación en caso de fallo.</p>
                </li>
            </ol>
        </div>
    </div>

    <!-- Problema 4 -->
    <div class="problem-box">
        <h3 id="problema-sesiones">Problema: Sesiones interrumpidas o problemas con aplicaciones específicas</h3>
        
        <div class="symptoms">
            <h4>Síntomas:</h4>
            <ul>
                <li>Las sesiones de aplicaciones (como VPN, banca en línea) se desconectan frecuentemente</li>
                <li>Algunas aplicaciones funcionan mal con el balanceo de carga</li>
                <li>Problemas con sitios web que requieren mantener la misma IP</li>
            </ul>
        </div>

        <div class="possible-causes">
            <h4>Posibles causas:</h4>
            <ul>
                <li>Cambios de ruta durante una sesión activa</li>
                <li>Aplicaciones que requieren una IP pública consistente</li>
                <li>Servicios que no funcionan bien con balanceo de conexiones</li>
                <li>Marcado incorrecto de conexiones relacionadas</li>
            </ul>
        </div>

        <div class="solution">
            <h4>Solución:</h4>
            
            <ol class="numbered-steps">
                <li>
                    <strong>Identificar aplicaciones problemáticas:</strong>
                    <p>Determine qué aplicaciones o servicios específicos están experimentando problemas.</p>
                </li>
                
                <li>
                    <strong>Crear reglas específicas para aplicaciones sensibles:</strong>
                    <div class="code-block">
                        <pre><code># Ejemplo para dirigir todo el tráfico bancario por WAN1
/ip firewall address-list add list=banking address=banco1.com
/ip firewall address-list add list=banking address=banco2.com

/ip firewall mangle add chain=prerouting action=mark-connection new-connection-mark=WAN1_conn passthrough=yes in-interface=LAN dst-address-list=banking place-before=0</code></pre>
                    </div>
                    <p>Esto asegura que ciertos servicios siempre usen la misma conexión.</p>
                </li>
                
                <li>
                    <strong>Configurar marcado de conexiones relacionadas:</strong>
                    <div class="code-block">
                        <pre><code># Asegurar que las conexiones relacionadas usen la misma ruta
/ip firewall mangle add chain=prerouting action=mark-connection new-connection-mark=WAN1_conn passthrough=yes connection-mark=WAN1_conn
/ip firewall mangle add chain=prerouting action=mark-connection new-connection-mark=WAN2_conn passthrough=yes connection-mark=WAN2_conn</code></pre>
                    </div>
                    <p>Esto mantiene las conexiones relacionadas en la misma ruta.</p>
                </li>
                
                <li>
                    <strong>Para servicios críticos, considerar deshabilitar el balanceo:</strong>
                    <div class="code-block">
                        <pre><code># Ejemplo para VPN o servicios financieros
/ip firewall mangle add chain=prerouting action=mark-connection new-connection-mark=WAN1_conn passthrough=yes in-interface=LAN protocol=tcp dst-port=443 place-before=0</code></pre>
                    </div>
                    <p>Esto dirige todo el tráfico HTTPS por una sola conexión, sacrificando balanceo por estabilidad.</p>
                </li>
                
                <li>
                    <strong>Ajustar el tiempo de persistencia de conexiones:</strong>
                    <div class="code-block">
                        <pre><code>/ip firewall connection tracking set tcp-established-timeout=1h udp-timeout=3m</code></pre>
                    </div>
                    <p>Esto puede ayudar a mantener las conexiones activas por más tiempo.</p>
                </li>
            </ol>
        </div>
    </div>

    <!-- Herramientas de diagnóstico -->
    <div class="diagnostic-tools">
        <h3 id="herramientas-diagnostico">Herramientas de diagnóstico útiles</h3>
        
        <p>MikroTik RouterOS ofrece varias herramientas que pueden ayudarle a diagnosticar problemas de balanceo de carga:</p>
        
        <div class="tool-box">
            <h4>Torch</h4>
            <p>Permite monitorear el tráfico en tiempo real por interfaz, dirección IP, puerto o protocolo:</p>
            <div class="code-block">
                <pre><code>/tool torch interface=WAN1 src-address=192.168.1.0/24</code></pre>
            </div>
        </div>
        
        <div class="tool-box">
            <h4>Traceroute</h4>
            <p>Muestra la ruta que toman los paquetes hacia un destino:</p>
            <div class="code-block">
                <pre><code>/tool traceroute 8.8.8.8 use-dns=yes</code></pre>
            </div>
        </div>
        
        <div class="tool-box">
            <h4>Sniffer</h4>
            <p>Captura y analiza paquetes para un diagnóstico detallado:</p>
            <div class="code-block">
                <pre><code>/tool sniffer quick ip-protocol=icmp</code></pre>
            </div>
        </div>
        
        <div class="tool-box">
            <h4>Profile</h4>
            <p>Muestra el uso de recursos del router:</p>
            <div class="code-block">
                <pre><code>/system resource cpu print
/system resource print</code></pre>
            </div>
        </div>
        
        <div class="tool-box">
            <h4>Connection</h4>
            <p>Muestra las conexiones activas y su estado:</p>
            <div class="code-block">
                <pre><code>/ip firewall connection print where marked</code></pre>
            </div>
        </div>
    </div>

    <div class="warning-box">
        <h4>Advertencia:</h4>
        <p>Antes de realizar cambios en la configuración de producción, es recomendable:</p>
        <ul>
            <li>Hacer una copia de seguridad de la configuración actual</li>
            <li>Probar los cambios en un entorno de prueba si es posible</li>
            <li>Programar una ventana de mantenimiento para implementar cambios importantes</li>
            <li>Tener un plan de reversión en caso de que los cambios causen problemas</li>
        </ul>
    </div>

</div>


</div>
        <script>
            fetch('mikrotik-troubleshooting-section.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('troubleshooting').innerHTML = data;
                });
        </script>

        <!-- Sección de Recursos Adicionales -->
        <div id="recursos">


    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recursos Adicionales - Manual MikroTik</title>
    <link rel="stylesheet" href="./Manual de Configuraciones Básicas de Router MikroTik para Balanceo de Carga_files/mikrotik-styles.css">



<div class="section-content">
    <h2 id="recursos-adicionales">Recursos Adicionales</h2>
    
    <div class="intro-text">
        <p>Esta sección proporciona recursos adicionales para ampliar sus conocimientos sobre la configuración y administración de routers MikroTik, especialmente en lo relacionado con el balanceo de carga y la alta disponibilidad.</p>
    </div>

    <!-- Documentación Oficial -->
    <div class="resource-category">
        <h3 id="documentacion-oficial">Documentación Oficial</h3>
        
        <div class="resource-list">
            <div class="resource-item">
                <h4>Wiki de MikroTik</h4>
                <p>La documentación oficial de MikroTik es una fuente invaluable de información técnica detallada:</p>
                <ul>
                    <li><a href="https://wiki.mikrotik.com/wiki/Manual:TOC" target="_blank">Manual de RouterOS</a> - Documentación completa del sistema operativo RouterOS</li>
                    <li><a href="https://wiki.mikrotik.com/wiki/Manual:PCC" target="_blank">Documentación de PCC</a> - Detalles sobre la implementación de Per Connection Classifier</li>
                    <li><a href="https://wiki.mikrotik.com/wiki/Manual:IP/Route" target="_blank">Documentación de Routing</a> - Información detallada sobre el enrutamiento en RouterOS</li>
                    <li><a href="https://wiki.mikrotik.com/wiki/Manual:IP/Firewall/Filter" target="_blank">Documentación de Firewall</a> - Guía completa sobre las capacidades del firewall</li>
                </ul>
            </div>
            
            <div class="resource-item">
                <h4>Guías Oficiales de MikroTik</h4>
                <p>MikroTik ofrece guías específicas para configuraciones comunes:</p>
                <ul>
                    <li><a href="https://help.mikrotik.com/docs/display/ROS/Load+Balancing" target="_blank">Guía de Balanceo de Carga</a> - Documentación oficial sobre implementaciones de balanceo</li>
                    <li><a href="https://help.mikrotik.com/docs/display/ROS/Firewall" target="_blank">Guía de Firewall</a> - Documentación detallada sobre configuración de firewall</li>
                    <li><a href="https://help.mikrotik.com/docs/display/ROS/Routing" target="_blank">Guía de Routing</a> - Información sobre protocolos y configuraciones de enrutamiento</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Comunidades y Foros -->
    <div class="resource-category">
        <h3 id="comunidades-foros">Comunidades y Foros</h3>
        
        <div class="resource-list">
            <div class="resource-item">
                <h4>Foros Oficiales y Comunidades</h4>
                <p>Participe en comunidades donde puede hacer preguntas y compartir experiencias:</p>
                <ul>
                    <li><a href="https://forum.mikrotik.com/" target="_blank">Foro Oficial de MikroTik</a> - Foro de soporte oficial donde los usuarios y el personal de MikroTik responden preguntas</li>
                    <li><a href="https://www.reddit.com/r/mikrotik/" target="_blank">Subreddit de MikroTik</a> - Comunidad activa en Reddit dedicada a MikroTik</li>
                </ul>
            </div>
            
            <div class="resource-item">
                <h4>Grupos y Canales</h4>
                <p>Únase a grupos de discusión y canales para mantenerse actualizado:</p>
                <ul>
                    <li><a href="https://t.me/mikrotikes" target="_blank">Grupo de Telegram MikroTik</a> - Comunidad hispanohablante de usuarios de MikroTik</li>
                    <li><a href="https://www.facebook.com/groups/mikrotiknetwork/" target="_blank">Grupo de Facebook MikroTik Network</a> - Grupo de discusión sobre MikroTik</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Tutoriales y Cursos -->
    <div class="resource-category">
        <h3 id="tutoriales-cursos">Tutoriales y Cursos</h3>
        
        <div class="resource-list">
            <div class="resource-item">
                <h4>Tutoriales en Video</h4>
                <p>Aprenda visualmente con estos canales y tutoriales:</p>
                <ul>
                    <li><a href="https://www.youtube.com/c/MikroTikLatam" target="_blank">Canal Oficial MikroTik Latam</a> - Tutoriales oficiales en español</li>
                    <li><a href="https://www.youtube.com/c/TikAcademy" target="_blank">Tik Academy</a> - Canal educativo con tutoriales detallados</li>
                    <li><a href="https://www.youtube.com/c/NetworkingwithGNS3" target="_blank">Networking with GNS3</a> - Tutoriales que incluyen configuraciones de MikroTik</li>
                </ul>
            </div>
            
            <div class="resource-item">
                <h4>Cursos y Certificaciones</h4>
                <p>Mejore sus habilidades con formación estructurada:</p>
                <ul>
                    <li><a href="https://mikrotik.com/training" target="_blank">Programa de Certificación MikroTik</a> - Certificaciones oficiales MTCNA, MTCRE, MTCINE, etc.</li>
                    <li><a href="https://www.udemy.com/topic/mikrotik/" target="_blank">Cursos de Udemy sobre MikroTik</a> - Cursos en línea para todos los niveles</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Herramientas y Software -->
    <div class="resource-category">
        <h3 id="herramientas-software">Herramientas y Software</h3>
        
        <div class="resource-list">
            <div class="resource-item">
                <h4>Software Oficial</h4>
                <p>Herramientas oficiales para administrar y probar routers MikroTik:</p>
                <ul>
                    <li><a href="https://mikrotik.com/download" target="_blank">RouterOS</a> - Sistema operativo para routers MikroTik</li>
                    <li><a href="https://mikrotik.com/download" target="_blank">Winbox</a> - Interfaz gráfica para administración de routers MikroTik</li>
                    <li><a href="https://mikrotik.com/download" target="_blank">The Dude</a> - Herramienta de monitoreo de red</li>
                    <li><a href="https://mikrotik.com/download" target="_blank">RouterOS CHR</a> - Versión virtual de RouterOS para pruebas</li>
                </ul>
            </div>
            
            <div class="resource-item">
                <h4>Herramientas de Terceros</h4>
                <p>Software complementario útil para trabajar con MikroTik:</p>
                <ul>
                    <li><a href="https://www.gns3.com/" target="_blank">GNS3</a> - Simulador de red que puede integrar RouterOS CHR</li>
                    <li><a href="https://www.eve-ng.net/" target="_blank">EVE-NG</a> - Plataforma de emulación de redes que soporta RouterOS</li>
                    <li><a href="https://www.cacti.net/" target="_blank">Cacti</a> - Herramienta de monitoreo compatible con MikroTik</li>
                    <li><a href="https://www.zabbix.com/" target="_blank">Zabbix</a> - Sistema de monitoreo empresarial con soporte para MikroTik</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Libros y Publicaciones -->
    <div class="resource-category">
        <h3 id="libros-publicaciones">Libros y Publicaciones</h3>
        
        <div class="resource-list">
            <div class="resource-item">
                <h4>Libros Recomendados</h4>
                <p>Lecturas recomendadas para profundizar en MikroTik:</p>
                <ul>
                    <li>"MikroTik Security Guide" por Tyler Hart</li>
                    <li>"RouterOS by Example" por Stephen R.W. Discher</li>
                    <li>"MikroTik RouterOS Workshop" por Heine Withagen</li>
                    <li>"Implementing Cisco IP Routing (ROUTE)" - Aunque no es específico de MikroTik, proporciona fundamentos sólidos de enrutamiento</li>
                </ul>
            </div>
            
            <div class="resource-item">
                <h4>Blogs y Artículos</h4>
                <p>Blogs con información actualizada sobre MikroTik:</p>
                <ul>
                    <li><a href="https://mum.mikrotik.com/" target="_blank">MikroTik User Meeting (MUM)</a> - Presentaciones y artículos de las reuniones de usuarios</li>
                    <li><a href="https://blog.mikrotik.com/" target="_blank">Blog Oficial de MikroTik</a> - Noticias y actualizaciones oficiales</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Ejemplos de Configuración -->
    <div class="resource-category">
        <h3 id="ejemplos-configuracion">Ejemplos de Configuración</h3>
        
        <div class="resource-list">
            <div class="resource-item">
                <h4>Scripts y Configuraciones</h4>
                <p>Repositorios con ejemplos de configuraciones listas para usar:</p>
                <ul>
                    <li><a href="https://github.com/topics/mikrotik-routeros" target="_blank">Repositorios GitHub sobre MikroTik</a> - Colecciones de scripts y configuraciones</li>
                    <li><a href="https://wiki.mikrotik.com/wiki/Manual:Scripts" target="_blank">Scripts en Wiki MikroTik</a> - Ejemplos oficiales de scripts</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="note-box">
        <h4>Nota:</h4>
        <p>Los enlaces proporcionados en esta sección son actuales al momento de la creación de este manual. Sin embargo, las URLs pueden cambiar con el tiempo. Si encuentra un enlace roto, le recomendamos buscar el recurso por su nombre en un motor de búsqueda.</p>
    </div>

</div>


</div>
        <script>
            fetch('mikrotik-resources-section.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('recursos').innerHTML = data;
                });
        </script>

        <section id="generar-pdf" class="mb-5">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h2 class="h4 mb-0">11. Generar PDF del Manual</h2>
                </div>
                <div class="card-body text-center">
                    <p>Puedes descargar este manual completo en formato PDF para consultarlo sin conexión a Internet.</p>
                    <button id="generate-pdf" class="btn btn-primary btn-lg">
                        <i class="bi bi-file-earmark-pdf me-2"></i>Descargar Manual en PDF
                    </button>
                </div>
            </div>
        </section>

        <footer class="text-center py-4 mt-5 border-top">
            <p>© 2023 Manual de Configuraciones MikroTik - Todos los derechos reservados</p>
        </footer>
    </div>

    <script src="./Manual de Configuraciones Básicas de Router MikroTik para Balanceo de Carga_files/bootstrap.bundle.min.js"></script>
    <script src="./Manual de Configuraciones Básicas de Router MikroTik para Balanceo de Carga_files/html2pdf.bundle.min.js"></script>
    <script src="./Manual de Configuraciones Básicas de Router MikroTik para Balanceo de Carga_files/mikrotik-script.js"></script>

</body></html>